<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Getting Started: Handling Form Submission</title>
<script src="https://code.jquery.com/jquery-1.12.3.min.js"
	type="text/javascript"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="/css/userFlow.css" />
<!-- <script type="text/javascript" src="/js/userFlow.js"></script> -->
</head>
<body>
	
	<!-- multistep form -->
<form id="msform" action ="/welcome/users" method="POST">
  <!-- progressbar -->
  <ul id="progressbar">
    <li class="active">Account Setup</li>
    <li>Social Profiles</li>
    <li>Personal Details</li>
  </ul>
  <!-- fieldsets -->
  <fieldset>
    <h2 class="fs-title">Create your account</h2>
    <h3 class="fs-subtitle">This is step 1</h3>
    <input type="text" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Password" />
    <input type="password" id="cpass" placeholder="Confirm Password" />
    <input type="button" id="next" class="next action-button" value="Next" name="next" />
  </fieldset>
  <fieldset>
    <h2 class="fs-title">Business Profile</h2>
    <h3 class="fs-subtitle">Your presence on the social network</h3>
    <input type="text" id="businessName" placeholder="BusinessName" />
    <input type="text" id="streetName" placeholder="Street Name" />
    <input type="text" id="city" placeholder="City" />
    <input type="text" id="phoneNumber" placeholder="Phone Number" />
    <input type="text" id="yelpLink" placeholder="yelpLink" />
    <input type="text" id="cost" placeholder="average cost $-$$$$" />
    <input type="text" id="category" placeholder="Category" />
    <input type="text" id="streetName" placeholder="Street Name" />
     <input type="text" id="zipCode" placeholder="zipcode" />
    <input type="text" id="city" placeholder="City" />
    <input type="text" id="startTime" placeholder="Start time of day" />
    <input type="text" id="endTime" placeholder="end time of work day" />
     <input type="text" id="apptSlots" placeholder="slots per appt" />
    <input type="button" id="previous" class="previous action-button" value="Previous" />
    <input type="button" id="next2" class="next action-button" value="Next" name="next" />
  </fieldset>
  <fieldset>
    <h2 class="fs-title">Calendar Details</h2>
    
    <input type="text" id="startsTime" placeholder="start time of day" />
    <input type="text" id="StopsTIme" placeholder="end time of work day" />
    <input type="text" id="appsstSlots" placeholder="slots per appt" />
    <textarea name="address" placeholder="Address"></textarea>
    <input type="button" name="previous" class="previous action-button" value="Previous" />
    <input type="button" name="submit" class="submit action-button" id="finalSubmit" />
  </fieldset>
</form>
	



	<script type="text/javascript">
   
	function showAlert(){
    	alert("here 0");
  
    }
    
    jQuery(document).ready(function($) {
    	var current_fs, next_fs, previous_fs; //fieldsets
    	var left, opacity, scale; //fieldset properties which we will animate
    	var animating; //flag to prevent quick multi-click glitches

    	$(".next").click(function(){
    		if(animating) return false;
    		animating = true;
    		
    		current_fs = $(this).parent();
    		next_fs = $(this).parent().next();
    		
    		//activate next step on progressbar using the index of next_fs
    		$("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
    		
    		//show the next fieldset
    		next_fs.show(); 
    		//hide the current fieldset with style
    		current_fs.animate({opacity: 0}, {
    			step: function(now, mx) {
    				//as the opacity of current_fs reduces to 0 - stored in "now"
    				//1. scale current_fs down to 80%
    				scale = 1 - (1 - now) * 0.2;
    				//2. bring next_fs from the right(50%)
    				left = (now * 50)+"%";
    				//3. increase opacity of next_fs to 1 as it moves in
    				opacity = 1 - now;
    				current_fs.css({
    	        'transform': 'scale('+scale+')',
    	        'position': 'absolute'
    	      });
    				next_fs.css({'left': left, 'opacity': opacity});
    			}, 
    			duration: 800, 
    			complete: function(){
    				current_fs.hide();
    				animating = false;
    			}, 
    			//this comes from the custom easing plugin
    			easing: 'easeInOutBack'
    		});
    	});

    	$(".previous").click(function(){
    		if(animating) return false;
    		animating = true;
    		
    		current_fs = $(this).parent();
    		previous_fs = $(this).parent().prev();
    		
    		//de-activate current step on progressbar
    		$("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
    		
    		//show the previous fieldset
    		previous_fs.show(); 
    		//hide the current fieldset with style
    		current_fs.animate({opacity: 0}, {
    			step: function(now, mx) {
    				//as the opacity of current_fs reduces to 0 - stored in "now"
    				//1. scale previous_fs from 80% to 100%
    				scale = 0.8 + (1 - now) * 0.2;
    				//2. take current_fs to the right(50%) - from 0%
    				left = ((1-now) * 50)+"%";
    				//3. increase opacity of previous_fs to 1 as it moves in
    				opacity = 1 - now;
    				current_fs.css({'left': left});
    				previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
    			}, 
    			duration: 800, 
    			complete: function(){
    				current_fs.hide();
    				animating = false;
    			}, 
    			//this comes from the custom easing plugin
    			easing: 'easeInOutBack'
    		});
    	});

    	$("#submitFinal").click(function(){
    		return false;
    	})
    	 
		$("#next2").click(function(){
			
			showAlert();
			var serviceProviderData = {};
			serviceProviderData["businessName"] = $("#businessName").val();
			serviceProviderData["streetName"] = $("#streetName").val();
			serviceProviderData["city"] = $("#city").val();
			serviceProviderData["zipCode"] = $("#zipCode").val();
			serviceProviderData["phoneNumber"] = $("#phoneNumber").val();
			serviceProviderData["email"] = $("#email").val();
			serviceProviderData["yelpLink"] = $("#yelpLink").val();
			serviceProviderData["cost"] = $("#cost").val();
			serviceProviderData["category"] = $("#category").val();
			serviceProviderData["password"] = $("#password").val();
			serviceProviderData["startTime"] = $("#startTime").val();
			serviceProviderData["endTime"] = $("#endTime").val();
			serviceProviderData["apptSlots"] = $("#apptSlots").val();
		
			
			
			$.ajax({
				type : "POST",
				contentType : "application/json",
				url : "/welcome/users",
				data : JSON.stringify(serviceProviderData),
				dataType : 'json',				
				success : function(data) {
					
					alert("here 1");
				}
			});
		});
		
		$("#finalSubmit").click(function(){
			
			showAlert();
			
			
			
		});
 
	});</script>
</body>
</html>